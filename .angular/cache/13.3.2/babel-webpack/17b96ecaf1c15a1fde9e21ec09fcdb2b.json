{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CountriesService } from './countries.service';\nlet AppComponent = class AppComponent {\n  constructor(httpService) {\n    this.httpService = httpService;\n    this.title = 'Region/Country selector';\n    this.isCountryDisabled = true;\n    this.isCountrySelected = false;\n    this.selectedCountryName = '';\n    this.selectedCountryCapital = '';\n    this.selectedCountryPopulation = '';\n    this.selectedCountryCurrencies = '';\n    this.selectedCountryFlag = '';\n    this.regionList = [{\n      name: 'Europe'\n    }, {\n      name: 'Asia'\n    }];\n  }\n\n  changeRegion(region) {\n    this.isCountryDisabled = region === 'Default' ? true : false;\n\n    if (region === 'Europe' && this.countryListEurope !== undefined) {\n      this.countries = this.countryListEurope; // this.countries = this.countryList.filter(reg => reg.region === region);\n\n      this.isCountrySelected = false;\n      console.log('Region data returned is for \\'' + this.countries[0].region + '\\'');\n    } else if (region === 'Asia' && this.countryListAsia !== undefined) {\n      this.countries = this.countryListAsia; // this.countries = this.countryList.filter(reg => reg.region === region);\n\n      this.isCountrySelected = false;\n      console.log('Region data returned is for \\'' + this.countries[0].region + '\\'');\n    } else {\n      // calls the http get on demand\n      this.httpService.getPosts(region).subscribe(response => {\n        if (region === 'Europe') {\n          this.countryListEurope = response;\n          this.countries = this.countryListEurope;\n        }\n\n        if (region === 'Asia') {\n          this.countryListAsia = response;\n          this.countries = this.countryListAsia;\n        }\n\n        this.isCountryDisabled = region === 'Default' ? true : false;\n        this.isCountrySelected = false;\n        console.log('Region data returned is for \\'' + this.countries[0].region + '\\'');\n      }, error => {\n        console.log(error);\n      });\n    }\n  }\n\n  changeCountry(country) {\n    this.selectedCountry = this.countries.filter(reg => reg.name === country); // find the selected country\n\n    if (this.selectedCountry.length === 0) {\n      this.isCountrySelected = false;\n    } else {\n      this.selectedCountryName = this.selectedCountry[0].name;\n      this.selectedCountryCapital = this.selectedCountry[0].capital;\n      this.selectedCountryPopulation = this.selectedCountry[0].population;\n      this.selectedCountryCurrencies = this.selectedCountry[0].currencies;\n      this.selectedCountryFlag = this.selectedCountry[0].flag;\n      this.isCountrySelected = true;\n    }\n  }\n\n  ngOnInit() {// nothing to do here\n  }\n\n};\nAppComponent = __decorate([Component({\n  selector: 'pm-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n}), __metadata(\"design:paramtypes\", [CountriesService])], AppComponent);\nexport { AppComponent };","map":null,"metadata":{},"sourceType":"module"}